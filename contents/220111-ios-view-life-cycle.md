---
date: "2022-01-11"
title: "[iOS] View Life Cycle"
category: "Mobile"
categoryColor: "lightpink"
tags: ["iOS"]
thumbnail: "./images/iOS.png"
---

**앱은 하나 이상의 뷰로 구성이 되어 있으며, 각각의 뷰들은 라이프 사이클을 가지고 있다.**

따라서 뷰의 라이프 사이클을 고려해서 로직을 넣고, 구성해야 한다.

- 뷰가 화면에 보여지는 상태의 변화나 뷰의 레이아웃에 변화가 생기면 뷰 컨트롤러는 여러가지 메서드를 호출해 서브클래스가 적절한 대응을 할 수 있게 한다.

<br />

<div style="text-align: center">
  <img src="https://camo.githubusercontent.com/10fc2927819e468c43e85b66b315552b365ebf202fc0c428afff0aed175b9ff5/68747470733a2f2f646f63732d6173736574732e646576656c6f7065722e6170706c652e636f6d2f7075626c69736865642f663036663330666136332f554956696577436f6e74726f6c6c65725f436c6173735f5265666572656e63655f32785f64646361613030632d383764382d346338352d393631652d6363666239666134616163322e706e67" width="600">
</div>

## 뷰의 상태 변화 메서드

뷰가 나타나거나 사라지는 등 뷰가 화면에 보이는 상태가 변화할 때 호출하는 메서드이다.

각 메서드가 호출 될 때의 시점과 수행하면 좋은 작업들을 확인하여 적절히 구성해야 한다.

- `func viewDidLoad()`

  - **뷰 계층이 메모리에 로드된 직후 호출되는 메서드**

  - 뷰의 추가적인 초기화 작업을 하기 좋은 시점이다.

  - 메모리에 처음 로딩 될때 **1회 호출**되는 메서드로, 메모리 경고로 뷰가 사라지지 않는 이상 다시 호출되지 않는다.

- `func viewWillAppear(_ animated: Bool)`

  - **뷰가 뷰 계층에 추가되고 화면이 표시되기 직전에 호출되는 메서드**

  - 뷰의 추가적인 초기화 작업을 하기 좋은 시점이다.

  - 다른 뷰로 이동했다가 되돌아오면 재호출되는 메서드로, **화면이 나타날 때마다 수행**해야하는 작업을 하기 좋은 시점이다.

- `func viewDidAppear(_ animated: Bool)`

  - **뷰가 뷰 계층에 추가되어 화면이 표시되면 호출되는 메서드**

  - 뷰를 나타내는 것과 관련된 추가적인 작업을 하기 좋은 시점이다.

  - 데이터를 받아서 화면에 뿌려주거나 애니메이션 등의 작업을 하는 로직을 위치시킬 수 있다.

    (`ViewWillAppear` 에서 로직을 넣었다가 뷰에 반영이 안되는 경우가 있기 때문이다.)

- `func viewWillDisappear(_ animated: Bool)`

  - **뷰가 뷰 계층에서 사라지기 직전에 호출되는 메서드**

  - 뷰가 생성된 뒤 발생한 변화를 이전상태로 되돌리기 좋은 시점이다.

- `func viewDidDisappear(_ animated: Bool)`

  - **뷰가 뷰 계층에서 사라진 후 호출되는 메서드**

  - 뷰를 숨기는 것과 관련된 추가적인 작업을 하기 좋은 시점이다.

  - 시간이 오래 걸리는 작업은 하지 않는 것이 좋다.

각각의 메소드를 보면 네이밍이 비슷하고 **Did** 와 **Will** 의 차이가 있는 것을 알 수 있다. 

**순환적으로 발생하기 때문에 화면 전환에 따라 발생해야 하는 로직을 적절한 곳에서 실행시켜야 한다.**

<br />

## 뷰의 레이아웃 변화 메서드

뷰가 생성된 후 바운드 및 위치 등의 레이아웃에 변화가 발생했을 때 호출되는 메서드이다.

아래 두 메서드 외에도 레이아웃 변경에 관련된 다양한 메서드가 있다. 자세한 내용은 UIViewController 클래스 소개 문서의 Configuring the View’s Layout Behavior 부분을 참고하자.

- `func viewWillLayoutSubviews()`

  - **뷰가 서브뷰의 레이아웃을 변경하기 직전에 호출되는 메서드**

  - 서브뷰의 레이아웃을 변경하기 전에 수행할 작업을 하기 좋은 시점이다.

- `func viewDidLayoutSubviews()`

  - **서브뷰의 레이아웃이 변경된 후 호출되는 메서드**

  - 서브뷰의 레이아웃을 변경 한 후 추가적인 작업을 수행하기 좋은 시점이다.

<br />

> 중요: 뷰 컨트롤러에서 위의 메서드들을 사용하기 위해 `override` 키워드를 명시하고 `super` 를 호출하는 것을 잊지 말자!

<br />
<br />

**※ Source :**

🍎 Apple 공식 문서: https://developer.apple.com/documentation/uikit/uiviewcontroller
