---
date: "2022-03-12"
title: "[JavaScript] 원시값의 메서드"
category: "Language"
categoryColor: "darkorchid"
tags: ["JS"]
thumbnail: "./images/JavaScript.png"
---

객체의 장점 중 하나는 함수를 프로퍼티로 저장할 수 있다는 것이다.

자바스크립트는 날짜, 오류, HTML 요소(HTML element) 등을 다룰 수 있게 해주는 다양한 내장 객체를 제공하며, 이 객체들은 고유한 프로퍼티와 메서드를 가진다.

❗️ **하지만, 이런 기능을 사용하면 시스템 자원이 많이 소모된다는 단점이 있다.**

**객체는 원시값보다 무겁고, 내부 구조를 유지하기 위해 추가 자원을 사용하기 때문이다!**

<br />

## 원시값을 객체처럼 사용하기

**자바스크립트는 원시값(문자열, 숫자 등)을 마치 객체처럼 다룰 수 있게 해준다.** 어떻게?

원시값이 메서드나 프로퍼티에 접근하려 하면 추가 기능을 제공해주는 특수한 객체, 

**원시 래퍼 객체(object wrapper)** 를 만들어 준다!

<br />

**래퍼 객체**는 원시 타입에 따라 `String`, `Number`, `Boolean`, `Symbol` 네가지 종류가 있다.

래퍼 객체 마다 제공하는 메서드 역시 다르다.

<br />

아래 예시를 보자.

```js
let str = "Hello";

alert( str.toUpperCase() ); // HELLO
```

`str.toUpperCase()`는 인수로 받은 문자열의 모든 글자를 대문자로 바꿔주는 메서드이다.

이 메서드가 호출될 때 내부에서 실제로 일어나는 일을 알아보자.

1. 문자열 `str`은 원시값이므로 원시값의 프로퍼티(`toUpperCase`)에 접근하는 순간 **특별한 객체가 만들어진다.**

- 이 객체는 문자열의 값을 알고 있고, `toUpperCase()`와 같은 유용한 메서드를 가지고 있다.

2. 메서드가 실행되고, 새로운 문자열이 반환된다. (alert 창에 이 문자열이 출력된다)

3. **특별한 객체는 파괴되고, 원시값 `str`만 남는다.**

<br />

**이런 내부 프로세스를 통해 원시값을 가볍게 유지하면서 메서드를 호출할 수 있는 것이다!**

이처럼 자바스크립트 엔진은 위 프로세스의 최적화에 많은 신경을 쓴다. 

**원시 래퍼 객체를 만들지 않고도 마치 원시 래퍼 객체를 생성한 것처럼 동작하게끔 해준다 🙏**

<br />

❗️ **`String / Number / Boolean`을 생성자로는 쓰지 말자!**

자바스크립트에서 하위 호환성을 위해 이 기능을 남겨 두었는데, 이런 식으로 래퍼 객체를 만드는 건 추천되지 않는다.

몇몇 상황에서 혼동을 불러일으키기 때문이다..

```js
console.log( typeof 0 ); // "number"
console.log( typeof new Number(0) ); // "object"!
```

위 예시를 보아 생성자로 사용될 시 이는 객체가 된다.

이러한 객체는 논리 평가 시 항상 참을 반환하게 되고, 아래 예시에서 얼럿창은 무조건 열리게 된다.

```js
let zero = new Number(0);

if (zero) {
  alert( "test" );
}
```

`zero`가 참이 되어버리는 것이다.. 

원래 `0`은 거짓이 되어야 하는게 맞는건데..

> `new`를 붙이지 않고 `String / Number / Boolean`을 사용하는 건 괜찮다! `new` 없이 사용하면 상식에 맞게 인수를 원하는 형의 원시값(문자열, 숫자, 불린 값)으로 바꿔준다.

> `null / undefined`는 메서드가 없다. 이 자료형과 연관되는 래퍼 객체도 없고, 메서드도 제공하지 않는다. 어떻게 보면 이 두 자료형이 가장 원시적이라 할 수도 있겠다. 

<br />
<br />

어려운 내용은 아니지만 사실, 평소 아무렇지 않게 사용한 원시값 메서드의 원리를 처음 알게되어 기록하고 싶었다..😆

<br />

## ※ Source

🖥 ko.javascript.info