---
date: "2022-01-18"
title: "[Baekjoon] 3665ë²ˆ: ìµœì¢… ìˆœìœ„"
category: "Algorithm"
categoryColor: "#6196cc"
tags: ["Baekjoon", "Python", "Sort"]
thumbnail: "./images/Baekjoon.png"
---

# ğŸ” Algorithm

### Topological Sort (ìœ„ìƒ ì •ë ¬)

# ğŸ’» Language

### Python

# ğŸ“ Logic

### Problem: <u>"ì‘ë…„ ìˆœìœ„ì™€ ìƒëŒ€ì ì¸ ìˆœìœ„ê°€ ë°”ë€ ëª¨ë“  íŒ€ì˜ ëª©ë¡ì´ ì£¼ì–´ì¡Œì„ ë•Œ, ì˜¬í•´ ìˆœìœ„ë¥¼ ë§Œë“œëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤."</u>

1. ì‘ë…„ ìˆœìœ„ë¥¼ í†µí•´ í•œ ë…¸ë“œê°€ ë‹¤ë¥¸ ë…¸ë“œë¥¼ ê°€ë¦¬í‚¤ëŠ” ê·¸ë˜í”„ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ í‘œí˜„í•  ë•Œ, **ìì‹ ì˜ ìˆœìœ„ë³´ë‹¤ ë‚®ì€ ë…¸ë“œë¥¼ ì „ë¶€ ê°€ë¦¬í‚¤ë„ë¡ í•œë‹¤.**

```python
for i in range(0, n):
    for j in range(i+1, n):
        graph[rank[i]].append(rank[j])
```

- ì˜ˆë¥¼ ë“¤ì–´, ì‘ë…„ ìˆœìœ„ê°€ `5 4 3 2 1` ì´ë¼ë©´ ê·¸ë˜í”„ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

```
5 -> 1, 5 -> 2, 5 -> 3, 5 -> 4
4 -> 1, 4 -> 2, 4 -> 3
3 -> 1, 3 -> 2
2 -> 1
1
```

2. ìƒëŒ€ì ì¸ ìˆœìœ„ê°€ ë°”ë€ íŒ€ì˜ ì…ë ¥(`A` `B`)ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ìƒì„±í•œ ê·¸ë˜í”„ì—ì„œ (`A` or `B` ê°€)ê°€ë¦¬í‚¤ëŠ” íŒ€ë“¤ ì¤‘ **ìƒëŒ€ íŒ€(`A` or `B`)ì„ í¬í•¨ì‹œí‚¤ê³  ìˆëŠ” íŒ€ì„ ì°¾ëŠ”ë‹¤.**

- ìƒì„±í•œ ê·¸ë˜í”„ì—ì„œ `B`ê°€ `A`ë¥¼ ê°€ë¦¬í‚¤ê³  ìˆì„ ë•Œ, `B`ì˜ ë¦¬ìŠ¤íŠ¸ì—ì„œ `A`ë¥¼ ì‚­ì œí•˜ê³  `A`ì˜ ë¦¬ìŠ¤íŠ¸ì— `B`ë¥¼ ì¶”ê°€í•œë‹¤.

```python
for _ in range(m):
    A, B = map(int, input().split())
    if A in graph[B]:
        graph[B].remove(A)
        graph[A].append(B)
    else:
        graph[A].remove(B)
        graph[B].append(A)
```

ì´ë ‡ê²Œ ìµœì¢… ì—…ë°ì´íŠ¸í•œ ê·¸ë˜í”„ ë¦¬ìŠ¤íŠ¸ë¥¼ í†µí•´ ì§„ì… ì°¨ìˆ˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ì—¬ ìœ„ìƒì •ë ¬ì„ ìˆ˜í–‰í•œë‹¤.

# ğŸ›  Code

```python
import sys
from collections import deque
input = sys.stdin.readline


def topology_sort():   
    result = []
    q = deque()

    for i in range(1, n+1):
        if indegree[i] == 0:
            q.append(i)
    
    while q:
        node = q.popleft()
        result.append(node)

        for next_node in graph[node]:
            indegree[next_node] -= 1
            if indegree[next_node] == 0:
                q.append(next_node)

    if len(result) == n: result_set.append(result)
    else: result_set.append("IMPOSSIBLE")


result_set = []
for _ in range(int(input())):
    n = int(input())
    rank = [int(i) for i in input().split()]
    m = int(input())

    graph = [[] for _ in range(n+1)]
    indegree = [0 for _ in range(n+1)]

    for i in range(0, n):
        for j in range(i+1, n):
            graph[rank[i]].append(rank[j])
    
    for _ in range(m):
        A, B = map(int, input().split())
        if A in graph[B]:
            graph[B].remove(A)
            graph[A].append(B)
        else:
            graph[A].remove(B)
            graph[B].append(A)
    
    for A in range(1, n+1):
        for B in graph[A]:
            indegree[B] += 1

    topology_sort()

for i, result in enumerate(result_set):
    if not isinstance(result, list):
        print(result); continue
    for res in result:
        print(res, end=" ")
    if i != len(result_set)-1: print()
```

# ğŸ“ Review

"ë§Œì•½, í™•ì‹¤í•œ ìˆœìœ„ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ë©´ "?"ë¥¼ ì¶œë ¥í•œë‹¤. ë°ì´í„°ì— ì¼ê´€ì„±ì´ ì—†ì–´ì„œ ìˆœìœ„ë¥¼ ì •í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ëŠ” "IMPOSSIBLE"ì„ ì¶œë ¥í•œë‹¤."

ë¬¸ì œì—ì„œ ì œì‹œí•œ ìœ„ ì¶œë ¥ ì¡°ê±´ ë•Œë¬¸ì— ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë ¸ë‹¤. ì•„ë¬´ë¦¬ ìƒê°í•´ë´ë„ "?" ê°€ ì¶œë ¥ë  ì…ë ¥ì´ ë– ì˜¤ë¥´ì§€ê°€ ì•Šì•˜ë‹¤. 

ê²°êµ­ "?" ê°€ ì¶œë ¥ë  ì…ë ¥ì´ ì• ì´ˆì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ìƒê°í•˜ê³ , ì˜¬í•´ ìˆœìœ„ ì¶œë ¥ê³¼ "IMPOSSIBLE" ì¶œë ¥ ë‘ ê°€ì§€ ê²½ìš°ì— ëŒ€í•´ì„œë§Œ êµ¬í˜„í–ˆë”ë‹ˆ ë§ì•˜ë‹¤.

ë‹¹í™©ìŠ¤ëŸ¬ì› ì§€ë§Œ ì¡°ê¸ˆë§Œ ìƒê°í•´ë³´ë©´ "?" ê°€ ì¶œë ¥ë  ì…ë ¥ì´ ë‹¹ì—°íˆ ìˆì„ ìˆ˜ê°€ ì—†ë‹¤.

<br />
<br />

**â€» Source:**

https://www.acmicpc.net/problem/3665
