---
date: "2021-09-05"
title: "[Baekjoon] 5557번: 1학년"
category: "Algorithm"
categoryColor: "#6196cc"
tags: ["Baekjoon", "Python", "DP"]
thumbnail: "./images/Baekjoon.jpeg"
---

## 문제

상근이가 1학년 때, 덧셈, 뺄셈을 매우 좋아했다. 상근이는 숫자가 줄 지어있는 것을 보기만 하면, 마지막 두 숫자 사이에 '='을 넣고, 나머지 숫자 사이에는 '+' 또는 '-'를 넣어 등식을 만들며 놀고 있다. 예를 들어, "8 3 2 4 8 7 2 4 0 8 8"에서 등식 "8+3-2-4+8-7-2-4-0+8=8"을 만들 수 있다.

상근이는 올바른 등식을 만들려고 한다. 상근이는 아직 학교에서 음수를 배우지 않았고, 20을 넘는 수는 모른다. 따라서, 왼쪽부터 계산할 때, 중간에 나오는 수가 모두 0 이상 20 이하이어야 한다. 예를 들어, "8+3+2-4-8-7+2+4+0+8=8"은 올바른 등식이지만, 8+3+2-4-8-7이 음수이기 때문에, 상근이가 만들 수 없는 등식이다.

숫자가 주어졌을 때, 상근이가 만들 수 있는 올바른 등식의 수를 구하는 프로그램을 작성하시오.

## 입력

첫째 줄에 숫자의 개수 N이 주어진다. (3 ≤ N ≤ 100) 둘째 줄에는 0 이상 9 이하의 정수 N개가 공백으로 구분해 주어진다.

## 출력

첫째 줄에 상근이가 만들 수 있는 올바른 등식의 개수를 출력한다. 이 값은 2^63 - 1 이하이다.

### 예제 입력

```
11
8 3 2 4 8 7 2 4 0 8 8
```

`출력: 10`

```
40
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 0 1 1
```

`출력: 7069052760`

<hr />

## 🔍 Algorithm

Dynamic Programming

## 💻 Language

Python

## 📍 Logic

- 모든 원소의 값이 0인 **(N - 1) \* 21** 크기의 2차원 배열 `dp`를 생성한다.

  ```python
  dp = [[0] * 21 for _ in range(N-1)]
  ```

  > row: N - 1 은 주어진 숫자들 중 마지막 수는 조사할 필요가 없기 때문이며, col: 21 은 중간에 나오는 수가 0 이상 20 이하이기 때문이다.

    <br />

  생성 후, 아래 코드와 같이 **입력 받은 숫자들의 첫번째 수**를 인덱스로 한 원소의 값을 1로 설정한다.

  ```python
  dp[0][numbers[0]] = 1
  ```

<br />

- 2중 반복문을 통해 `i > 0`의 배열 `dp`의 모든 원소를 조사하며, 아래 두 조건을 만족할 시 값(경우의 수)을 업데이트해준다.

  <br />

  - `numbers[i]`를 더하는 경우

    ```python
      if 0 <= j + numbers[i] <= 20:
            dp[i][j + numbers[i]] += dp[i-1][j]
    ```

  <br />

  - `numbers[i]`를 빼는 경우
    ```python
    if 0 <= j - numbers[i] <= 20:
              dp[i][j - numbers[i]] += dp[i-1][j]
    ```

  <br />

  아래 코드는 위 내용들을 종합한 코드이다.

  ```python
  for i in range(1, N-1):
      for j in range(21):
          if 0 <= j + numbers[i] <= 20:
              dp[i][j + numbers[i]] += dp[i-1][j]
          if 0 <= j - numbers[i] <= 20:
              dp[i][j - numbers[i]] += dp[i-1][j]
  ```

<br />

- 최종 업데이트 된 배열 `dp`의 **입력 받은 숫자들의 마지막 수**를 인덱스로한 원소 값을 출력한다.

  ```python
  print(dp[-1][numbers[-1]])
  ```

## 📝 Review

문제를 해결하기 위한 아이디어를 떠올리는 데 많은 시간을 소요했다.

끝내, 스스로 해결법을 찾지 못하여 구글 상에 존재하는 한 천재의 아이디어를 참조했다..

그래도 이번 문제를 통해 DP 문제의 색다른 접근법을 터득할 수 있었던 것 같다.

<br />
<br />

**Source:**

https://www.acmicpc.net/problem/17070
