---
date: "2022-02-117"
title: "[Programmers] 43164ë²ˆ: ì—¬í–‰ê²½ë¡œ"
category: "Algorithm"
categoryColor: "#6196cc"
tags: ["Programmers", "Python", "DFS"]
thumbnail: "./images/Programmers.png"
---

## ğŸ” Algorithm

**DFS**

## ğŸ’» Language

**Python**

## ğŸ“ Logic

ë¨¼ì €, ì£¼ì–´ì§„ `tickets`ë¥¼ í†µí•´ ì¶œë°œì§€ë¥¼ Keyë¡œ í•˜ê³  ë„ì°©ì§€ë¥¼ Valueë¡œ í•œ **ë”•ì…”ë„ˆë¦¬ë¥¼ ìƒì„±í•œë‹¤.**

```python
for key, value in tickets:
    if key in airports: airports[key].append(value)
    else: airports[key] = [value]
for key in airports:
    airports[key].sort()
```

- ìƒì„±í•œ ë”•ì…”ë„ˆë¦¬ì˜ ê° Keyì˜ Value ë¦¬ìŠ¤íŠ¸ë¥¼ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬í•œë‹¤.

<br />

**ìŠ¤íƒì„ ì´ìš©í•œ DFSë¥¼ ì‹œí–‰í•œë‹¤.**

```python
after = []
    stack = ["ICN"]
    while len(stack) + len(after) != len(tickets)+1:
        top = stack[-1]
        if top not in airports or not airports[top]:
            after.append(stack.pop())
        else:
            stack.append(airports[top].pop(0))
            
    return stack + after[::-1]
```

- ë”•ì…”ë„ˆë¦¬ì— ìŠ¤íƒì˜ topì— ëŒ€í•œ Value(ë„ì°©ì§€)ê°€ ìˆìœ¼ë©´ ìŠ¤íƒì— pushí•œë‹¤.

- ì—†ìœ¼ë©´ `after`ì— pushí•œë‹¤.

(ì´ë•Œ, ë”•ì…”ë„ˆë¦¬ì˜ ê°’ì„ popí•˜ì—¬ ë¦¬í„´í•œ ê°’ì„ push)

- ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ë£¨íŠ¸ì˜ ê¸¸ì´ë§Œí¼ ë°˜ë³µí•˜ì—¬ ì¢…ë£Œëœ í›„, ìŠ¤íƒê³¼ ì—­ìˆœì˜ `after`ë¥¼ í•©ì¹œ ê°’ì„ ë¦¬í„´í•œë‹¤.

## ğŸ›  Code

- ìµœì¢… ì½”ë“œ

```python
def solution(tickets):
    airports = {}
    for key, value in tickets:
        if key in airports: airports[key].append(value)
        else: airports[key] = [value]
    for key in airports:
        airports[key].sort()
    
    after = []
    stack = ["ICN"]
    while len(stack) + len(after) != len(tickets)+1:
        top = stack[-1]
        if top not in airports or not airports[top]:
            after.append(stack.pop())
        else:
            stack.append(airports[top].pop(0))
            
    return stack + after[::-1]
```

<br />

- ì²«ë²ˆì§¸ ì½”ë“œ

```python
def solution(tickets):
    n = len(tickets)
    
    def dfs(airport, route, visited):
        if not airport:
            d = "ICN"
        else:
            visited[airport[2]] = True
            d = airport[1]
            
        airports = []
        for i in range(n):
            if not visited[i] and tickets[i][0] == d:
                airports.append(tickets[i]+[i])

        for a in sorted(airports, key=lambda x:x[1]):
                temp = dfs(a, route+[a[0]], visited)
                if temp: return temp
                visited[a[2]] = False

        if not airports and len(route) == n:
            route.append(d)
            return route
        return False
    
    return dfs([], [], [False for _ in range(n)])
```

## ğŸ“ Review

ì˜¤ëœë§Œì— ì‹œê°„ì„ ê½¤ íˆ¬ìí•œ ë¬¸ì œì˜€ë‹¤.

ì²˜ìŒì— ì¬ê·€í•¨ìˆ˜ë¥¼ ì´ìš©í•œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ì—¬ í•´ê²°í–ˆì§€ë§Œ, ì½”ë“œê°€ ë„ˆë¬´ ë³µì¡í•˜ì—¬ ë§ˆìŒì— ë“¤ì§€ ì•Šì•˜ë‹¤.

ë¬¸ì œë¥¼ ë§ì·„ì§€ë§Œ ë” íš¨ìœ¨ì ì¸ ë°©ë²•ì´ ì—†ì„ê¹Œ ê³ ë¯¼í•˜ë‹¤ ìŠ¤íƒì„ ì´ìš©í•œ ì½”ë“œë¡œ ë³€ê²½í–ˆë‹¤. (ì—¬ê¸°ì— ë§ì€ ì‹œê°„ì„ ì†Œìš”í–ˆë‹¤..)

ì™œ í•­ìƒ ì²˜ìŒì— í’€ ë•ŒëŠ” ë” íš¨ìœ¨ì ì¸ ì½”ë“œê°€ ë°”ë¡œ ë– ì˜¤ë¥´ì§€ ì•ŠëŠ” ê²ƒì¼ê¹Œ.. ğŸ˜‚

<br />
<br />

## â€» Source

https://programmers.co.kr/learn/courses/30/lessons/43164
